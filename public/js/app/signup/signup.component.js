"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),router_1=require("@angular/router"),signup_service_1=require("../shared/services/signup.service"),SignupComponent=function(){function e(e,t,r){this.router=e,this.route=t,this.signupService=r}return e.prototype.goToForm=function(e){this.router.navigate(["/signup",e])},e.prototype.checkStyle=function(e){return this.selectedRole===e},e.prototype.onSubmit=function(e){function t(e){console.log("res from backend",e),localStorage.setItem("id_token",JSON.stringify(e.token)),localStorage.setItem("current_user",JSON.stringify(e.user))}function r(e){"Conflict"===e.statusText&&console.log("this email already exist")}e.role=this.selectedRole;this.signupService.signUp(e).subscribe(function(e){return t(e)},function(e){return r(e)})},e.prototype.ngOnInit=function(){var e=this;this.selectedRole=void 0,this.route&&(this.sub=this.route.params.subscribe(function(t){switch(e.selectedRole=t.role,e.selectedRole){case"student":e.roleCh="学员";break;case"advisor":e.roleCh="顾问";break;case"admin":e.roleCh="管理员"}}))},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e=__decorate([core_1.Component({moduleId:module.id,selector:"signup",templateUrl:"signup.component.html",styleUrls:["signup.style.css"],providers:[signup_service_1.SignupService]}),__metadata("design:paramtypes",[router_1.Router,router_1.ActivatedRoute,signup_service_1.SignupService])],e)}();exports.SignupComponent=SignupComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC9zaWdudXAuY29tcG9uZW50LmpzIiwic2lnbnVwL3NpZ251cC5jb21wb25lbnQudHMiXSwibmFtZXMiOlsiX19kZWNvcmF0ZSIsInRoaXMiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImQiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fbWV0YWRhdGEiLCJrIiwidiIsIm1ldGFkYXRhIiwiY29yZV8xIiwicmVxdWlyZSIsInJvdXRlcl8xIiwic2lnbnVwX3NlcnZpY2VfMSIsIlNpZ251cENvbXBvbmVudCIsInJvdXRlciIsInJvdXRlIiwic2lnbnVwU2VydmljZSIsInByb3RvdHlwZSIsImdvVG9Gb3JtIiwic2VsZWN0ZWQiLCJuYXZpZ2F0ZSIsImNoZWNrU3R5bGUiLCJzZWxlY3RlZFJvbGUiLCJvblN1Ym1pdCIsImF1dGgiLCJoYW5kbGVSZXNwb25zZSIsInJlcyIsImNvbnNvbGUiLCJsb2ciLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiSlNPTiIsInN0cmluZ2lmeSIsInRva2VuIiwidXNlciIsImhhbmRsZUVycm9yIiwiZXJyIiwic3RhdHVzVGV4dCIsInJvbGUiLCJzaWduVXAiLCJzdWJzY3JpYmUiLCJuZ09uSW5pdCIsIl90aGlzIiwidW5kZWZpbmVkIiwic3ViIiwicGFyYW1zIiwicm9sZUNoIiwibmdPbkRlc3Ryb3kiLCJ1bnN1YnNjcmliZSIsIkNvbXBvbmVudCIsIm1vZHVsZUlkIiwibW9kdWxlIiwiaWQiLCJzZWxlY3RvciIsInRlbXBsYXRlVXJsIiwic3R5bGVVcmxzIiwicHJvdmlkZXJzIiwiU2lnbnVwU2VydmljZSIsIlJvdXRlciIsIkFjdGl2YXRlZFJvdXRlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFDQSxJQUFJQSxZQUFjQyxNQUFRQSxLQUFLRCxZQUFlLFNBQVVFLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBT00sT0FBT0MseUJBQXlCVCxFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWlEsVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkosRUFBSUcsUUFBUUMsU0FBU1osRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJVSxHQUFJYixFQUFXTyxPQUFTLEVBQUdNLEdBQUssRUFBR0EsS0FBU1QsRUFBSUosRUFBV2EsTUFBSUwsR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS0MsT0FBT0ssZUFBZWIsRUFBUUMsRUFBS00sR0FBSUEsR0FFNURPLFdBQWNoQixNQUFRQSxLQUFLZ0IsWUFBZSxTQUFVQyxFQUFHQyxHQUN2RCxHQUF1QixnQkFBWk4sVUFBb0Qsa0JBQXJCQSxTQUFRTyxTQUF5QixNQUFPUCxTQUFRTyxTQUFTRixFQUFHQyxJQ1IxR0UsT0FBQUMsUUFBNkMsaUJBQzdDQyxTQUFBRCxRQUF3QyxtQkFFeENFLGlCQUFBRixRQUE4QixxQ0FXOUJHLGdCQUFBLFdBS0ksUUFBQUEsR0FDU0MsRUFDQ0MsRUFDQUMsR0FGRDNCLEtBQUF5QixPQUFBQSxFQUNDekIsS0FBQTBCLE1BQUFBLEVBQ0ExQixLQUFBMkIsY0FBQUEsRUErRGQsTUE1RElILEdBQUFJLFVBQUFDLFNBQUEsU0FBU0MsR0FDUjlCLEtBQUt5QixPQUFPTSxVQUFVLFVBQVdELEtBR2xDTixFQUFBSSxVQUFBSSxXQUFBLFNBQVdGLEdBQ1QsTUFBRzlCLE1BQUtpQyxlQUFpQkgsR0FNM0JOLEVBQUFJLFVBQUFNLFNBQUEsU0FBU0MsR0FTUCxRQUFBQyxHQUF3QkMsR0FDcEJDLFFBQVFDLElBQUksbUJBQW9CRixHQUNoQ0csYUFBYUMsUUFBUSxXQUFZQyxLQUFLQyxVQUFVTixFQUFJTyxRQUNwREosYUFBYUMsUUFBUSxlQUFnQkMsS0FBS0MsVUFBVU4sRUFBSVEsT0FHNUQsUUFBQUMsR0FBcUJDLEdBQ0csYUFBbkJBLEVBQUlDLFlBRUxWLFFBQVFDLElBQUksNEJBakJoQkosRUFBS2MsS0FBT2pELEtBQUtpQyxZQUVmakMsTUFBSzJCLGNBQWN1QixPQUFPZixHQUNyQmdCLFVBQ0QsU0FBQWQsR0FBTyxNQUFBRCxHQUFlQyxJQUN0QixTQUFBVSxHQUFPLE1BQUFELEdBQVlDLE1Ba0IzQnZCLEVBQUFJLFVBQUF3QixTQUFBLFdBQUEsR0FBQUMsR0FBQXJELElBQ0VBLE1BQUtpQyxhQUFlcUIsT0FDakJ0RCxLQUFLMEIsUUFDTjFCLEtBQUt1RCxJQUFNdkQsS0FBSzBCLE1BQ2Y4QixPQUNBTCxVQUFVLFNBQUFLLEdBRVQsT0FEQUgsRUFBS3BCLGFBQWV1QixFQUFhLEtBQzFCSCxFQUFLcEIsY0FDVixJQUFLLFVBQ0hvQixFQUFLSSxPQUFTLElBQ2QsTUFDRixLQUFLLFVBQ0hKLEVBQUtJLE9BQVMsSUFDZCxNQUNGLEtBQUssUUFDSEosRUFBS0ksT0FBUyxXQU94QmpDLEVBQUFJLFVBQUE4QixZQUFBLFdBQ0UxRCxLQUFLdUQsSUFBSUksZUE3RWZuQyxFQUFBekIsWUFBQ3FCLE9BQUF3QyxXQUNHQyxTQUFVQyxPQUFPQyxHQUNqQkMsU0FBVSxTQUNWQyxZQUFhLHdCQUNiQyxXQUFZLG9CQUNaQyxXQUFZNUMsaUJBQUE2QyxpQkRtRVJwRCxXQUFXLHFCQUFzQk0sU0FBUytDLE9BQVEvQyxTQUFTZ0QsZUFBZ0IvQyxpQkFBaUI2QyxpQkFDN0Y1QyxLQ2pFTStDLFNBQUEvQyxnQkFBZUEiLCJmaWxlIjoic2lnbnVwL3NpZ251cC5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcbn07XG52YXIgY29yZV8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvY29yZScpO1xudmFyIHJvdXRlcl8xID0gcmVxdWlyZSgnQGFuZ3VsYXIvcm91dGVyJyk7XG52YXIgc2lnbnVwX3NlcnZpY2VfMSA9IHJlcXVpcmUoJy4uL3NoYXJlZC9zZXJ2aWNlcy9zaWdudXAuc2VydmljZScpO1xudmFyIFNpZ251cENvbXBvbmVudCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2lnbnVwQ29tcG9uZW50KHJvdXRlciwgcm91dGUsIHNpZ251cFNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XG4gICAgICAgIHRoaXMucm91dGUgPSByb3V0ZTtcbiAgICAgICAgdGhpcy5zaWdudXBTZXJ2aWNlID0gc2lnbnVwU2VydmljZTtcbiAgICB9XG4gICAgU2lnbnVwQ29tcG9uZW50LnByb3RvdHlwZS5nb1RvRm9ybSA9IGZ1bmN0aW9uIChzZWxlY3RlZCkge1xuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy9zaWdudXAnLCBzZWxlY3RlZF0pO1xuICAgIH07XG4gICAgU2lnbnVwQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja1N0eWxlID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm9sZSA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNpZ251cENvbXBvbmVudC5wcm90b3R5cGUub25TdWJtaXQgPSBmdW5jdGlvbiAoYXV0aCkge1xuICAgICAgICBhdXRoLnJvbGUgPSB0aGlzLnNlbGVjdGVkUm9sZTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLnNpZ251cFNlcnZpY2Uuc2lnblVwKGF1dGgpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlcyk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGVycik7IH0pO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXNwb25zZShyZXMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXMgZnJvbSBiYWNrZW5kJywgcmVzKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIEpTT04uc3RyaW5naWZ5KHJlcy50b2tlbikpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRfdXNlcicsIEpTT04uc3RyaW5naWZ5KHJlcy51c2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyLnN0YXR1c1RleHQgPT09ICdDb25mbGljdCcpIHtcbiAgICAgICAgICAgICAgICAvL0xldCB1c2VyIGtub3cgdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgZW1haWwgYWxyZWFkeSBleGlzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTaWdudXBDb21wb25lbnQucHJvdG90eXBlLm5nT25Jbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNlbGVjdGVkUm9sZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMucm91dGUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViID0gdGhpcy5yb3V0ZVxuICAgICAgICAgICAgICAgIC5wYXJhbXNcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zZWxlY3RlZFJvbGUgPSBwYXJhbXNbJ3JvbGUnXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF90aGlzLnNlbGVjdGVkUm9sZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHVkZW50JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJvbGVDaCA9ICflrablkZgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Fkdmlzb3InOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucm9sZUNoID0gJ+mhvumXric7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWRtaW4nOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucm9sZUNoID0gJ+euoeeQhuWRmCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2lnbnVwQ29tcG9uZW50LnByb3RvdHlwZS5uZ09uRGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdWIudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFNpZ251cENvbXBvbmVudCA9IF9fZGVjb3JhdGUoW1xuICAgICAgICBjb3JlXzEuQ29tcG9uZW50KHtcbiAgICAgICAgICAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gICAgICAgICAgICBzZWxlY3RvcjogJ3NpZ251cCcsXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3NpZ251cC5jb21wb25lbnQuaHRtbCcsXG4gICAgICAgICAgICBzdHlsZVVybHM6IFsnc2lnbnVwLnN0eWxlLmNzcyddLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbc2lnbnVwX3NlcnZpY2VfMS5TaWdudXBTZXJ2aWNlXVxuICAgICAgICB9KSwgXG4gICAgICAgIF9fbWV0YWRhdGEoJ2Rlc2lnbjpwYXJhbXR5cGVzJywgW3JvdXRlcl8xLlJvdXRlciwgcm91dGVyXzEuQWN0aXZhdGVkUm91dGUsIHNpZ251cF9zZXJ2aWNlXzEuU2lnbnVwU2VydmljZV0pXG4gICAgXSwgU2lnbnVwQ29tcG9uZW50KTtcbiAgICByZXR1cm4gU2lnbnVwQ29tcG9uZW50O1xufSgpKTtcbmV4cG9ydHMuU2lnbnVwQ29tcG9uZW50ID0gU2lnbnVwQ29tcG9uZW50O1xuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyLCBBY3RpdmF0ZWRSb3V0ZSAgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgTmdDbGFzcyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBTaWdudXBTZXJ2aWNlIH0gZnJvbSAnLi4vc2hhcmVkL3NlcnZpY2VzL3NpZ251cC5zZXJ2aWNlJztcbmltcG9ydCB7IEF1dGggfSBmcm9tICcuLi9zaGFyZWQvdHlwZXMvYXV0aCc7XG5cbkBDb21wb25lbnQoe1xuICAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gICAgc2VsZWN0b3I6ICdzaWdudXAnLFxuICAgIHRlbXBsYXRlVXJsOiAnc2lnbnVwLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnc2lnbnVwLnN0eWxlLmNzcyddLFxuICAgIHByb3ZpZGVyczogW1NpZ251cFNlcnZpY2VdXG59KVxuXG5leHBvcnQgY2xhc3MgU2lnbnVwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblx0ICBwcml2YXRlIHNlbGVjdGVkUm9sZTogc3RyaW5nO1xuICAgIHByaXZhdGUgc3ViOiBhbnk7XG4gICAgcHJpdmF0ZSByb2xlQ2g6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgIFx0cHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgIHByaXZhdGUgcm91dGU6IEFjdGl2YXRlZFJvdXRlLFxuICAgICAgcHJpdmF0ZSBzaWdudXBTZXJ2aWNlOiBTaWdudXBTZXJ2aWNlXG4gICAgKSB7IH1cblxuICAgIGdvVG9Gb3JtKHNlbGVjdGVkOiBzdHJpbmcpIHsgIFxuICAgIFx0dGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvc2lnbnVwJywgc2VsZWN0ZWRdKTtcbiAgXHR9XG5cbiAgICBjaGVja1N0eWxlKHNlbGVjdGVkOiBzdHJpbmcpIHtcbiAgICAgIGlmKHRoaXMuc2VsZWN0ZWRSb2xlID09PSBzZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBvblN1Ym1pdChhdXRoOiBBdXRoKSB7XG4gICAgICBhdXRoLnJvbGUgPSB0aGlzLnNlbGVjdGVkUm9sZTtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5zaWdudXBTZXJ2aWNlLnNpZ25VcChhdXRoKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgIHJlcyA9PiBoYW5kbGVSZXNwb25zZShyZXMpLFxuICAgICAgICAgICAgZXJyID0+IGhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgIClcblxuICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ3JlcyBmcm9tIGJhY2tlbmQnLCByZXMpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIEpTT04uc3RyaW5naWZ5KHJlcy50b2tlbikpO1xuICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXJyZW50X3VzZXInLCBKU09OLnN0cmluZ2lmeShyZXMudXNlcikpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIpIHtcbiAgICAgICAgaWYoZXJyLnN0YXR1c1RleHQgPT09ICdDb25mbGljdCcpIHtcbiAgICAgICAgICAvL0xldCB1c2VyIGtub3cgdGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0XG4gICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMgZW1haWwgYWxyZWFkeSBleGlzdCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gdW5kZWZpbmVkO1xuICAgICAgaWYodGhpcy5yb3V0ZSkge1xuICAgICAgICB0aGlzLnN1YiA9IHRoaXMucm91dGVcbiAgICAgICAgLnBhcmFtc1xuICAgICAgICAuc3Vic2NyaWJlKHBhcmFtcyA9PiB7XG4gICAgICAgICAgdGhpcy5zZWxlY3RlZFJvbGUgPSBwYXJhbXNbJ3JvbGUnXTtcbiAgICAgICAgICBzd2l0Y2godGhpcy5zZWxlY3RlZFJvbGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3N0dWRlbnQnOlxuICAgICAgICAgICAgICB0aGlzLnJvbGVDaCA9ICflrablkZgnO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Fkdmlzb3InOlxuICAgICAgICAgICAgICB0aGlzLnJvbGVDaCA9ICfpob7pl64nO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FkbWluJzpcbiAgICAgICAgICAgICAgdGhpcy5yb2xlQ2ggPSAn566h55CG5ZGYJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgIHRoaXMuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgfVxufSAgXG5cdCJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
