"use strict";var __decorate=this&&this.__decorate||function(e,t,o,r){var s,i=arguments.length,n=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(n=(i<3?s(n):i>3?s(t,o,n):s(t,o))||n);return i>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),router_1=require("@angular/router"),signup_service_1=require("../shared/services/signup.service"),SignupComponent=function(){function e(e,t,o){this.router=e,this.route=t,this.signupService=o}return e.prototype.goToForm=function(e){this.confirmPassword=null,this.pwMsgSuccess=!1,this.pwMsgFail=!1,this.router.navigate(["/signup",e])},e.prototype.checkStyle=function(e){return this.selectedRole===e},e.prototype.checkPw=function(e,t){this.pwMsgSuccess=!1,this.pwMsgFail=!1},e.prototype.onSubmit=function(e){function t(e){console.log(e),localStorage.setItem("id_token",JSON.stringify(e.token)),localStorage.setItem("current_user",JSON.stringify(e.user)),r.router.navigate(["dashboard"])}function o(e){"Conflict"===e.statusText&&(console.log("this email already exist"),console.log(e))}var r=this;e.password===this.confirmPassword&&(delete e.confirmPassword,e.role=this.selectedRole,this.signupService.signUp(e).subscribe(function(e){return t(e)},function(e){return o(e)}))},e.prototype.ngOnInit=function(){var e=this;this.selectedRole=void 0,this.route&&(this.sub=this.route.params.subscribe(function(t){switch(e.selectedRole=t.role,e.selectedRole){case"student":e.roleCh="学员";break;case"advisor":e.roleCh="顾问";break;case"admin":e.roleCh="管理员"}})),console.log("fff")},e.prototype.ngOnDestroy=function(){this.sub.unsubscribe()},e=__decorate([core_1.Component({moduleId:module.id,selector:"signup",templateUrl:"signup.component.html",styleUrls:["signup.style.css"],providers:[signup_service_1.SignupService],directives:[router_1.ROUTER_DIRECTIVES]}),__metadata("design:paramtypes",[router_1.Router,router_1.ActivatedRoute,signup_service_1.SignupService])],e)}();exports.SignupComponent=SignupComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNpZ251cC9zaWdudXAuY29tcG9uZW50LmpzIiwic2lnbnVwL3NpZ251cC5jb21wb25lbnQudHMiXSwibmFtZXMiOlsiX19kZWNvcmF0ZSIsInRoaXMiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImQiLCJjIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsIl9fbWV0YWRhdGEiLCJrIiwidiIsIm1ldGFkYXRhIiwiY29yZV8xIiwicmVxdWlyZSIsInJvdXRlcl8xIiwic2lnbnVwX3NlcnZpY2VfMSIsIlNpZ251cENvbXBvbmVudCIsInJvdXRlciIsInJvdXRlIiwic2lnbnVwU2VydmljZSIsInByb3RvdHlwZSIsImdvVG9Gb3JtIiwic2VsZWN0ZWQiLCJjb25maXJtUGFzc3dvcmQiLCJwd01zZ1N1Y2Nlc3MiLCJwd01zZ0ZhaWwiLCJuYXZpZ2F0ZSIsImNoZWNrU3R5bGUiLCJzZWxlY3RlZFJvbGUiLCJjaGVja1B3IiwiYXV0aCIsImNvbmZpcm1QdyIsIm9uU3VibWl0IiwiaGFuZGxlUmVzcG9uc2UiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ0b2tlbiIsInVzZXIiLCJzZWxmIiwiaGFuZGxlRXJyb3IiLCJlcnIiLCJzdGF0dXNUZXh0IiwicGFzc3dvcmQiLCJyb2xlIiwic2lnblVwIiwic3Vic2NyaWJlIiwibmdPbkluaXQiLCJfdGhpcyIsInVuZGVmaW5lZCIsInN1YiIsInBhcmFtcyIsInJvbGVDaCIsIm5nT25EZXN0cm95IiwidW5zdWJzY3JpYmUiLCJDb21wb25lbnQiLCJtb2R1bGVJZCIsIm1vZHVsZSIsImlkIiwic2VsZWN0b3IiLCJ0ZW1wbGF0ZVVybCIsInN0eWxlVXJscyIsInByb3ZpZGVycyIsIlNpZ251cFNlcnZpY2UiLCJkaXJlY3RpdmVzIiwiUk9VVEVSX0RJUkVDVElWRVMiLCJSb3V0ZXIiLCJBY3RpdmF0ZWRSb3V0ZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQUFBLFlBQ0EsSUFBSUEsWUFBY0MsTUFBUUEsS0FBS0QsWUFBZSxTQUFVRSxFQUFZQyxFQUFRQyxFQUFLQyxHQUM3RSxHQUEySEMsR0FBdkhDLEVBQUlDLFVBQVVDLE9BQVFDLEVBQUlILEVBQUksRUFBSUosRUFBa0IsT0FBVEUsRUFBZ0JBLEVBQU9NLE9BQU9DLHlCQUF5QlQsRUFBUUMsR0FBT0MsQ0FDckgsSUFBdUIsZ0JBQVpRLFVBQW9ELGtCQUFyQkEsU0FBUUMsU0FBeUJKLEVBQUlHLFFBQVFDLFNBQVNaLEVBQVlDLEVBQVFDLEVBQUtDLE9BQ3BILEtBQUssR0FBSVUsR0FBSWIsRUFBV08sT0FBUyxFQUFHTSxHQUFLLEVBQUdBLEtBQVNULEVBQUlKLEVBQVdhLE1BQUlMLEdBQUtILEVBQUksRUFBSUQsRUFBRUksR0FBS0gsRUFBSSxFQUFJRCxFQUFFSCxFQUFRQyxFQUFLTSxHQUFLSixFQUFFSCxFQUFRQyxLQUFTTSxFQUNoSixPQUFPSCxHQUFJLEdBQUtHLEdBQUtDLE9BQU9LLGVBQWViLEVBQVFDLEVBQUtNLEdBQUlBLEdBRTVETyxXQUFjaEIsTUFBUUEsS0FBS2dCLFlBQWUsU0FBVUMsRUFBR0MsR0FDdkQsR0FBdUIsZ0JBQVpOLFVBQW9ELGtCQUFyQkEsU0FBUU8sU0FBeUIsTUFBT1AsU0FBUU8sU0FBU0YsRUFBR0MsSUNSMUdFLE9BQUFDLFFBQTZDLGlCQUM3Q0MsU0FBQUQsUUFBMEQsbUJBRzFERSxpQkFBQUYsUUFBOEIscUNBYzlCRyxnQkFBQSxXQVNJLFFBQUFBLEdBQ1NDLEVBQ0NDLEVBQ0FDLEdBRkQzQixLQUFBeUIsT0FBQUEsRUFDQ3pCLEtBQUEwQixNQUFBQSxFQUNBMUIsS0FBQTJCLGNBQUFBLEVBc0ZkLE1BbkZJSCxHQUFBSSxVQUFBQyxTQUFBLFNBQVNDLEdBRVA5QixLQUFLK0IsZ0JBQWtCLEtBQ3ZCL0IsS0FBS2dDLGNBQWUsRUFDcEJoQyxLQUFLaUMsV0FBWSxFQUNsQmpDLEtBQUt5QixPQUFPUyxVQUFVLFVBQVdKLEtBR2xDTixFQUFBSSxVQUFBTyxXQUFBLFNBQVdMLEdBQ1QsTUFBRzlCLE1BQUtvQyxlQUFpQk4sR0FNM0JOLEVBQUFJLFVBQUFTLFFBQUEsU0FBUUMsRUFBWUMsR0FDbEJ2QyxLQUFLZ0MsY0FBZSxFQUNwQmhDLEtBQUtpQyxXQUFZLEdBS25CVCxFQUFBSSxVQUFBWSxTQUFBLFNBQVNGLEdBZVAsUUFBQUcsR0FBd0JDLEdBQ3BCQyxRQUFRQyxJQUFJRixHQUNaRyxhQUFhQyxRQUFRLFdBQVlDLEtBQUtDLFVBQVVOLEVBQUlPLFFBQ3BESixhQUFhQyxRQUFRLGVBQWdCQyxLQUFLQyxVQUFVTixFQUFJUSxPQUN4REMsRUFBSzFCLE9BQU9TLFVBQVUsY0FHMUIsUUFBQWtCLEdBQXFCQyxHQUNHLGFBQW5CQSxFQUFJQyxhQUVMWCxRQUFRQyxJQUFJLDRCQUNaRCxRQUFRQyxJQUFJUyxJQXpCaEIsR0FBSUYsR0FBT25ELElBR1JzQyxHQUFLaUIsV0FBYXZELEtBQUsrQix3QkFFakJPLEdBQUtQLGdCQUNaTyxFQUFLa0IsS0FBT3hELEtBQUtvQyxhQUNqQnBDLEtBQUsyQixjQUFjOEIsT0FBT25CLEdBQ3JCb0IsVUFDRCxTQUFBaEIsR0FBTyxNQUFBRCxHQUFlQyxJQUN0QixTQUFBVyxHQUFPLE1BQUFELEdBQVlDLE9Bc0IzQjdCLEVBQUFJLFVBQUErQixTQUFBLFdBQUEsR0FBQUMsR0FBQTVELElBQ0VBLE1BQUtvQyxhQUFleUIsT0FDakI3RCxLQUFLMEIsUUFDTjFCLEtBQUs4RCxJQUFNOUQsS0FBSzBCLE1BQ2ZxQyxPQUNBTCxVQUFVLFNBQUFLLEdBRVQsT0FEQUgsRUFBS3hCLGFBQWUyQixFQUFhLEtBQzFCSCxFQUFLeEIsY0FDVixJQUFLLFVBQ0h3QixFQUFLSSxPQUFTLElBQ2QsTUFDRixLQUFLLFVBQ0hKLEVBQUtJLE9BQVMsSUFDZCxNQUNGLEtBQUssUUFDSEosRUFBS0ksT0FBUyxVQU10QnJCLFFBQVFDLElBQUksUUFJZHBCLEVBQUFJLFVBQUFxQyxZQUFBLFdBQ0VqRSxLQUFLOEQsSUFBSUksZUF6R2YxQyxFQUFBekIsWUFBQ3FCLE9BQUErQyxXQUNHQyxTQUFVQyxPQUFPQyxHQUNqQkMsU0FBVSxTQUNWQyxZQUFhLHdCQUNiQyxXQUFZLG9CQUNaQyxXQUFZbkQsaUJBQUFvRCxlQUNaQyxZQUFhdEQsU0FBQXVELHFCRGtGVDdELFdBQVcscUJBQXNCTSxTQUFTd0QsT0FBUXhELFNBQVN5RCxlQUFnQnhELGlCQUFpQm9ELGlCQUM3Rm5ELEtDaEZNd0QsU0FBQXhELGdCQUFlQSIsImZpbGUiOiJzaWdudXAvc2lnbnVwLmNvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fbWV0YWRhdGEgPSAodGhpcyAmJiB0aGlzLl9fbWV0YWRhdGEpIHx8IGZ1bmN0aW9uIChrLCB2KSB7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xufTtcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdAYW5ndWxhci9jb3JlJyk7XG52YXIgcm91dGVyXzEgPSByZXF1aXJlKCdAYW5ndWxhci9yb3V0ZXInKTtcbnZhciBzaWdudXBfc2VydmljZV8xID0gcmVxdWlyZSgnLi4vc2hhcmVkL3NlcnZpY2VzL3NpZ251cC5zZXJ2aWNlJyk7XG4vLyBpbXBvcnQgbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG52YXIgU2lnbnVwQ29tcG9uZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTaWdudXBDb21wb25lbnQocm91dGVyLCByb3V0ZSwgc2lnbnVwU2VydmljZSkge1xuICAgICAgICB0aGlzLnJvdXRlciA9IHJvdXRlcjtcbiAgICAgICAgdGhpcy5yb3V0ZSA9IHJvdXRlO1xuICAgICAgICB0aGlzLnNpZ251cFNlcnZpY2UgPSBzaWdudXBTZXJ2aWNlO1xuICAgIH1cbiAgICBTaWdudXBDb21wb25lbnQucHJvdG90eXBlLmdvVG9Gb3JtID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XG4gICAgICAgIC8vIHJvdXRlIHRvICMvc2lnbnVwLzpwYXJhbXNcbiAgICAgICAgdGhpcy5jb25maXJtUGFzc3dvcmQgPSBudWxsO1xuICAgICAgICB0aGlzLnB3TXNnU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnB3TXNnRmFpbCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy9zaWdudXAnLCBzZWxlY3RlZF0pO1xuICAgIH07XG4gICAgU2lnbnVwQ29tcG9uZW50LnByb3RvdHlwZS5jaGVja1N0eWxlID0gZnVuY3Rpb24gKHNlbGVjdGVkKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm9sZSA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFNpZ251cENvbXBvbmVudC5wcm90b3R5cGUuY2hlY2tQdyA9IGZ1bmN0aW9uIChhdXRoLCBjb25maXJtUHcpIHtcbiAgICAgICAgdGhpcy5wd01zZ1N1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wd01zZ0ZhaWwgPSBmYWxzZTtcbiAgICAgICAgLy9Pbmx5IGNoZWNrIGlmIHRoZXJlJ3MgcHcgYW5kIGhhcyBzYW1lIGxlbmd0aFxuICAgIH07XG4gICAgU2lnbnVwQ29tcG9uZW50LnByb3RvdHlwZS5vblN1Ym1pdCA9IGZ1bmN0aW9uIChhdXRoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy9QVyBjaGVja2luZ1xuICAgICAgICBpZiAoYXV0aC5wYXNzd29yZCA9PT0gdGhpcy5jb25maXJtUGFzc3dvcmQpIHtcbiAgICAgICAgICAgIC8vRG9uJ3Qgc2VuZCBjb25maXJtIHBhc3N3b3JkIHRvIHRoZSBiYWNrZW5kXG4gICAgICAgICAgICBkZWxldGUgYXV0aC5jb25maXJtUGFzc3dvcmQ7XG4gICAgICAgICAgICBhdXRoLnJvbGUgPSB0aGlzLnNlbGVjdGVkUm9sZTtcbiAgICAgICAgICAgIHRoaXMuc2lnbnVwU2VydmljZS5zaWduVXAoYXV0aClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIGhhbmRsZVJlc3BvbnNlKHJlcyk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGhhbmRsZUVycm9yKGVycik7IH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdpZF90b2tlbicsIEpTT04uc3RyaW5naWZ5KHJlcy50b2tlbikpO1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRfdXNlcicsIEpTT04uc3RyaW5naWZ5KHJlcy51c2VyKSk7XG4gICAgICAgICAgICBzZWxmLnJvdXRlci5uYXZpZ2F0ZShbJ2Rhc2hib2FyZCddKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVFcnJvcihlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIuc3RhdHVzVGV4dCA9PT0gJ0NvbmZsaWN0Jykge1xuICAgICAgICAgICAgICAgIC8vTGV0IHVzZXIga25vdyB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0Jyk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07IC8vRW5kIG9mIG9uIHN1Ym1pdFxuICAgIFNpZ251cENvbXBvbmVudC5wcm90b3R5cGUubmdPbkluaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGhpcy5yb3V0ZSkge1xuICAgICAgICAgICAgdGhpcy5zdWIgPSB0aGlzLnJvdXRlXG4gICAgICAgICAgICAgICAgLnBhcmFtc1xuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgICAgICAgIF90aGlzLnNlbGVjdGVkUm9sZSA9IHBhcmFtc1sncm9sZSddO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX3RoaXMuc2VsZWN0ZWRSb2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0dWRlbnQnOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucm9sZUNoID0gJ+WtpuWRmCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnYWR2aXNvcic6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb2xlQ2ggPSAn6aG+6ZeuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdhZG1pbic6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yb2xlQ2ggPSAn566h55CG5ZGYJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKCdmZmYnKTtcbiAgICB9O1xuICAgIFNpZ251cENvbXBvbmVudC5wcm90b3R5cGUubmdPbkRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTaWdudXBDb21wb25lbnQgPSBfX2RlY29yYXRlKFtcbiAgICAgICAgY29yZV8xLkNvbXBvbmVudCh7XG4gICAgICAgICAgICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICAgICAgICAgICAgc2VsZWN0b3I6ICdzaWdudXAnLFxuICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzaWdudXAuY29tcG9uZW50Lmh0bWwnLFxuICAgICAgICAgICAgc3R5bGVVcmxzOiBbJ3NpZ251cC5zdHlsZS5jc3MnXSxcbiAgICAgICAgICAgIHByb3ZpZGVyczogW3NpZ251cF9zZXJ2aWNlXzEuU2lnbnVwU2VydmljZV0sXG4gICAgICAgICAgICBkaXJlY3RpdmVzOiBbcm91dGVyXzEuUk9VVEVSX0RJUkVDVElWRVNdXG4gICAgICAgIH0pLCBcbiAgICAgICAgX19tZXRhZGF0YSgnZGVzaWduOnBhcmFtdHlwZXMnLCBbcm91dGVyXzEuUm91dGVyLCByb3V0ZXJfMS5BY3RpdmF0ZWRSb3V0ZSwgc2lnbnVwX3NlcnZpY2VfMS5TaWdudXBTZXJ2aWNlXSlcbiAgICBdLCBTaWdudXBDb21wb25lbnQpO1xuICAgIHJldHVybiBTaWdudXBDb21wb25lbnQ7XG59KCkpO1xuZXhwb3J0cy5TaWdudXBDb21wb25lbnQgPSBTaWdudXBDb21wb25lbnQ7XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIsIEFjdGl2YXRlZFJvdXRlLCBST1VURVJfRElSRUNUSVZFUyB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBOZ0NsYXNzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcblxuaW1wb3J0IHsgU2lnbnVwU2VydmljZSB9IGZyb20gJy4uL3NoYXJlZC9zZXJ2aWNlcy9zaWdudXAuc2VydmljZSc7XG5pbXBvcnQgeyBBdXRoIH0gZnJvbSAnLi4vc2hhcmVkL3R5cGVzL2F1dGgnO1xuXG4vLyBpbXBvcnQgbG9kYXNoID0gcmVxdWlyZSgnbG9kYXNoJyk7XG5cbkBDb21wb25lbnQoe1xuICAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXG4gICAgc2VsZWN0b3I6ICdzaWdudXAnLFxuICAgIHRlbXBsYXRlVXJsOiAnc2lnbnVwLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnc2lnbnVwLnN0eWxlLmNzcyddLFxuICAgIHByb3ZpZGVyczogW1NpZ251cFNlcnZpY2VdLFxuICAgIGRpcmVjdGl2ZXM6IFtST1VURVJfRElSRUNUSVZFU11cbn0pXG5cbmV4cG9ydCBjbGFzcyBTaWdudXBDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXHQgIHByaXZhdGUgc2VsZWN0ZWRSb2xlOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBzdWI6IGFueTtcbiAgICBwcml2YXRlIHJvbGVDaDogc3RyaW5nO1xuICAgIHByaXZhdGUgY29uZmlybVBhc3N3b3JkOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBwd01zZ1N1Y2Nlc3M6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBwd01zZ0ZhaWw6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBsb2dNZXNzYWdlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICBcdHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXG4gICAgICBwcml2YXRlIHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZSxcbiAgICAgIHByaXZhdGUgc2lnbnVwU2VydmljZTogU2lnbnVwU2VydmljZVxuICAgICkgeyB9XG5cbiAgICBnb1RvRm9ybShzZWxlY3RlZDogc3RyaW5nKSB7XG4gICAgICAvLyByb3V0ZSB0byAjL3NpZ251cC86cGFyYW1zXG4gICAgICB0aGlzLmNvbmZpcm1QYXNzd29yZCA9IG51bGw7XG4gICAgICB0aGlzLnB3TXNnU3VjY2VzcyA9IGZhbHNlO1xuICAgICAgdGhpcy5wd01zZ0ZhaWwgPSBmYWxzZTtcbiAgICBcdHRoaXMucm91dGVyLm5hdmlnYXRlKFsnL3NpZ251cCcsIHNlbGVjdGVkXSk7XG4gIFx0fVxuXG4gICAgY2hlY2tTdHlsZShzZWxlY3RlZDogc3RyaW5nKSB7XG4gICAgICBpZih0aGlzLnNlbGVjdGVkUm9sZSA9PT0gc2VsZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgY2hlY2tQdyhhdXRoOiBBdXRoLCBjb25maXJtUHc6IHN0cmluZykge1xuICAgICAgdGhpcy5wd01zZ1N1Y2Nlc3MgPSBmYWxzZTtcbiAgICAgIHRoaXMucHdNc2dGYWlsID0gZmFsc2U7XG4gICAgICAvL09ubHkgY2hlY2sgaWYgdGhlcmUncyBwdyBhbmQgaGFzIHNhbWUgbGVuZ3RoXG5cbiAgICB9XG5cbiAgICBvblN1Ym1pdChhdXRoOiBBdXRoKSB7XG4gICAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICAgIC8vUFcgY2hlY2tpbmdcbiAgICAgIGlmKGF1dGgucGFzc3dvcmQgPT09IHRoaXMuY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgIC8vRG9uJ3Qgc2VuZCBjb25maXJtIHBhc3N3b3JkIHRvIHRoZSBiYWNrZW5kXG4gICAgICAgIGRlbGV0ZSBhdXRoLmNvbmZpcm1QYXNzd29yZDtcbiAgICAgICAgYXV0aC5yb2xlID0gdGhpcy5zZWxlY3RlZFJvbGU7XG4gICAgICAgIHRoaXMuc2lnbnVwU2VydmljZS5zaWduVXAoYXV0aClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICByZXMgPT4gaGFuZGxlUmVzcG9uc2UocmVzKSxcbiAgICAgICAgICAgIGVyciA9PiBoYW5kbGVFcnJvcihlcnIpXG4gICAgICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHJlcykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2lkX3Rva2VuJywgSlNPTi5zdHJpbmdpZnkocmVzLnRva2VuKSk7XG4gICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1cnJlbnRfdXNlcicsIEpTT04uc3RyaW5naWZ5KHJlcy51c2VyKSk7XG4gICAgICAgICAgc2VsZi5yb3V0ZXIubmF2aWdhdGUoWydkYXNoYm9hcmQnXSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycikge1xuICAgICAgICBpZihlcnIuc3RhdHVzVGV4dCA9PT0gJ0NvbmZsaWN0Jykge1xuICAgICAgICAgIC8vTGV0IHVzZXIga25vdyB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RcbiAgICAgICAgICBjb25zb2xlLmxvZygndGhpcyBlbWFpbCBhbHJlYWR5IGV4aXN0Jyk7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAvLyBzZWxmLmxvZ01lc3NhZ2UgPSBKU09OLnBhcnNlKGVyci5fYm9keSkubWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0vL0VuZCBvZiBvbiBzdWJtaXRcblxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICB0aGlzLnNlbGVjdGVkUm9sZSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmKHRoaXMucm91dGUpIHtcbiAgICAgICAgdGhpcy5zdWIgPSB0aGlzLnJvdXRlXG4gICAgICAgIC5wYXJhbXNcbiAgICAgICAgLnN1YnNjcmliZShwYXJhbXMgPT4ge1xuICAgICAgICAgIHRoaXMuc2VsZWN0ZWRSb2xlID0gcGFyYW1zWydyb2xlJ107XG4gICAgICAgICAgc3dpdGNoKHRoaXMuc2VsZWN0ZWRSb2xlKSB7XG4gICAgICAgICAgICBjYXNlICdzdHVkZW50JzpcbiAgICAgICAgICAgICAgdGhpcy5yb2xlQ2ggPSAn5a2m5ZGYJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhZHZpc29yJzpcbiAgICAgICAgICAgICAgdGhpcy5yb2xlQ2ggPSAn6aG+6ZeuJztcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdhZG1pbic6XG4gICAgICAgICAgICAgIHRoaXMucm9sZUNoID0gJ+euoeeQhuWRmCc7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdmZmYnKTtcbiAgICAgIFxuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgdGhpcy5zdWIudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59ICBcblx0Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
