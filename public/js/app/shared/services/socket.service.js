"use strict";var __decorate=this&&this.__decorate||function(e,t,o,n){var r,c=arguments.length,i=c<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(i=(c<3?r(i):c>3?r(t,o,i):r(t,o))||i);return c>3&&i&&Object.defineProperty(t,o,i),i},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},core_1=require("@angular/core"),lodash_1=require("lodash"),SocketService=function(){function e(){var e=require("socket-client");this.socket=e.connect()}return e.prototype.addEventListener=function(e){this.socket.on(e,function(e){console.log("things from socket",e)})},e.prototype.removeEventListener=function(e){this.socket.removeAllListeners(e)},e.prototype.syncById=function(e,t,o){this.socket.on(e+":save:"+t,function(e){o(e)})},e.prototype.unsyncById=function(e,t,o){this.socket.removeAllListeners(e+":save:"+t)},e.prototype.syncArray=function(e,t,o){o=o||function(){},this.socket.on(e+":save",function(e){var n=lodash_1["default"].find(t,{_id:e._id}),r=t.indexOf(n),c="created";n?(t.splice(r,1,e),c="updated"):t.push(e),o(c,e,t)}),this.socket.on(e+":remove",function(e){var n="deleted";lodash_1["default"].remove(t,{_id:e._id}),o(n,e,t)})},e.prototype.unsyncArray=function(e){this.socket.removeAllListeners(e+":save"),this.socket.removeAllListeners(e+":remove")},e=__decorate([core_1.Injectable(),__metadata("design:paramtypes",[])],e)}();exports.SocketService=SocketService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXJlZC9zZXJ2aWNlcy9zb2NrZXQuc2VydmljZS5qcyIsInNoYXJlZC9zZXJ2aWNlcy9zb2NrZXQuc2VydmljZS50cyJdLCJuYW1lcyI6WyJfX2RlY29yYXRlIiwidGhpcyIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiZCIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19tZXRhZGF0YSIsImsiLCJ2IiwibWV0YWRhdGEiLCJjb3JlXzEiLCJyZXF1aXJlIiwibG9kYXNoXzEiLCJTb2NrZXRTZXJ2aWNlIiwiaW8iLCJzb2NrZXQiLCJjb25uZWN0IiwicHJvdG90eXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50Iiwib24iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJzeW5jQnlJZCIsIm1vZGVsTmFtZSIsImlkIiwiY2IiLCJpdGVtIiwidW5zeW5jQnlJZCIsInN5bmNBcnJheSIsImFycmF5Iiwib2xkSXRlbSIsImZpbmQiLCJfaWQiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJwdXNoIiwicmVtb3ZlIiwidW5zeW5jQXJyYXkiLCJJbmplY3RhYmxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFDQSxJQUFJQSxZQUFjQyxNQUFRQSxLQUFLRCxZQUFlLFNBQVVFLEVBQVlDLEVBQVFDLEVBQUtDLEdBQzdFLEdBQTJIQyxHQUF2SEMsRUFBSUMsVUFBVUMsT0FBUUMsRUFBSUgsRUFBSSxFQUFJSixFQUFrQixPQUFURSxFQUFnQkEsRUFBT00sT0FBT0MseUJBQXlCVCxFQUFRQyxHQUFPQyxDQUNySCxJQUF1QixnQkFBWlEsVUFBb0Qsa0JBQXJCQSxTQUFRQyxTQUF5QkosRUFBSUcsUUFBUUMsU0FBU1osRUFBWUMsRUFBUUMsRUFBS0MsT0FDcEgsS0FBSyxHQUFJVSxHQUFJYixFQUFXTyxPQUFTLEVBQUdNLEdBQUssRUFBR0EsS0FBU1QsRUFBSUosRUFBV2EsTUFBSUwsR0FBS0gsRUFBSSxFQUFJRCxFQUFFSSxHQUFLSCxFQUFJLEVBQUlELEVBQUVILEVBQVFDLEVBQUtNLEdBQUtKLEVBQUVILEVBQVFDLEtBQVNNLEVBQ2hKLE9BQU9ILEdBQUksR0FBS0csR0FBS0MsT0FBT0ssZUFBZWIsRUFBUUMsRUFBS00sR0FBSUEsR0FFNURPLFdBQWNoQixNQUFRQSxLQUFLZ0IsWUFBZSxTQUFVQyxFQUFHQyxHQUN2RCxHQUF1QixnQkFBWk4sVUFBb0Qsa0JBQXJCQSxTQUFRTyxTQUF5QixNQUFPUCxTQUFRTyxTQUFTRixFQUFHQyxJQ1IxR0UsT0FBQUMsUUFBMkIsaUJBRTNCQyxTQUFBRCxRQUFjLFVBSWRFLGNBQUEsV0FHQyxRQUFBQSxLQUNDLEdBQU1DLEdBQUtILFFBQVEsZ0JBQ25CckIsTUFBS3lCLE9BQVNELEVBQUdFLFVBc0VuQixNQW5FQ0gsR0FBQUksVUFBQUMsaUJBQUEsU0FBaUJDLEdBQ2hCN0IsS0FBS3lCLE9BQU9LLEdBQUdELEVBQU8sU0FBVUUsR0FDL0JDLFFBQVFDLElBQUkscUJBQXNCRixNQUlwQ1IsRUFBQUksVUFBQU8sb0JBQUEsU0FBb0JMLEdBRW5CN0IsS0FBS3lCLE9BQU9VLG1CQUFtQk4sSUFJaENOLEVBQUFJLFVBQUFTLFNBQUEsU0FBU0MsRUFBbUJDLEVBQVlDLEdBQ3ZDdkMsS0FBS3lCLE9BQU9LLEdBQUdPLEVBQVksU0FBV0MsRUFBSSxTQUFVRSxHQUNuREQsRUFBR0MsTUFJTGpCLEVBQUFJLFVBQUFjLFdBQUEsU0FBV0osRUFBbUJDLEVBQVlDLEdBQ3pDdkMsS0FBS3lCLE9BQU9VLG1CQUFtQkUsRUFBWSxTQUFXQyxJQUl2RGYsRUFBQUksVUFBQWUsVUFBQSxTQUFVTCxFQUFtQk0sRUFBbUJKLEdBQy9DQSxFQUFLQSxHQUFNLGFBS1h2QyxLQUFLeUIsT0FBT0ssR0FBR08sRUFBWSxRQUFTLFNBQVVHLEdBRTdDLEdBQUlJLEdBQVV0QixTQUFBQSxXQUFFdUIsS0FBS0YsR0FBU0csSUFBS04sRUFBS00sTUFDcENDLEVBQVFKLEVBQU1LLFFBQVFKLEdBQ3RCZixFQUFRLFNBSVJlLElBQ0hELEVBQU1NLE9BQU9GLEVBQU8sRUFBR1AsR0FDdkJYLEVBQVEsV0FFUmMsRUFBTU8sS0FBS1YsR0FHWkQsRUFBR1YsRUFBT1csRUFBTUcsS0FNakIzQyxLQUFLeUIsT0FBT0ssR0FBR08sRUFBWSxVQUFXLFNBQVVHLEdBQy9DLEdBQUlYLEdBQVEsU0FDWlAsVUFBQUEsV0FBRTZCLE9BQU9SLEdBQVNHLElBQUtOLEVBQUtNLE1BQzVCUCxFQUFHVixFQUFPVyxFQUFNRyxNQVNsQnBCLEVBQUFJLFVBQUF5QixZQUFBLFNBQVlmLEdBQ1hyQyxLQUFLeUIsT0FBT1UsbUJBQW1CRSxFQUFZLFNBQzNDckMsS0FBS3lCLE9BQU9VLG1CQUFtQkUsRUFBWSxZQXpFN0NkLEVBQUF4QixZQUFDcUIsT0FBQWlDLGFEeUVPckMsV0FBVyx5QkFDWk8sS0N6RU0rQixTQUFBL0IsY0FBYUEiLCJmaWxlIjoic2hhcmVkL3NlcnZpY2VzL3NvY2tldC5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn07XG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEoaywgdik7XG59O1xudmFyIGNvcmVfMSA9IHJlcXVpcmUoJ0Bhbmd1bGFyL2NvcmUnKTtcbi8vIGltcG9ydCBpbyBmcm9tICdzb2NrZXQtY2xpZW50JztcbnZhciBsb2Rhc2hfMSA9IHJlcXVpcmUoJ2xvZGFzaCcpO1xudmFyIFNvY2tldFNlcnZpY2UgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNvY2tldFNlcnZpY2UoKSB7XG4gICAgICAgIHZhciBpbyA9IHJlcXVpcmUoJ3NvY2tldC1jbGllbnQnKTsgLy9odHRwczovL2dpdGh1Yi5jb20vc29ja2V0aW8vc29ja2V0LmlvLWNsaWVudFxuICAgICAgICB0aGlzLnNvY2tldCA9IGlvLmNvbm5lY3QoKTtcbiAgICB9XG4gICAgLy8gQ3VzdG9taXplZCBFdmVudHMsIGFkZEV2ZW50IE9uSW5pdCwgcmVtb3ZlIE9uRGVzdHJveVxuICAgIFNvY2tldFNlcnZpY2UucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5zb2NrZXQub24oZXZlbnQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpbmdzIGZyb20gc29ja2V0JywgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU29ja2V0U2VydmljZS5wcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBTb2NrZXQgZGVmdWFsdCBtZXRob2RcbiAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICB9O1xuICAgIC8vIFVwZGF0ZSBkb2N1bWVudCBieSBpZFxuICAgIFNvY2tldFNlcnZpY2UucHJvdG90eXBlLnN5bmNCeUlkID0gZnVuY3Rpb24gKG1vZGVsTmFtZSwgaWQsIGNiKSB7XG4gICAgICAgIHRoaXMuc29ja2V0Lm9uKG1vZGVsTmFtZSArICc6c2F2ZTonICsgaWQsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBjYihpdGVtKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTb2NrZXRTZXJ2aWNlLnByb3RvdHlwZS51bnN5bmNCeUlkID0gZnVuY3Rpb24gKG1vZGVsTmFtZSwgaWQsIGNiKSB7XG4gICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycyhtb2RlbE5hbWUgKyAnOnNhdmU6JyArIGlkKTtcbiAgICB9O1xuICAgIC8vIFN5bmMgYXJyYXlcbiAgICBTb2NrZXRTZXJ2aWNlLnByb3RvdHlwZS5zeW5jQXJyYXkgPSBmdW5jdGlvbiAobW9kZWxOYW1lLCBhcnJheSwgY2IpIHtcbiAgICAgICAgY2IgPSBjYiB8fCBmdW5jdGlvbiAoKSB7IH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTeW5jcyBpdGVtIGNyZWF0aW9uL3VwZGF0ZXMgb24gJ21vZGVsOnNhdmUnXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNvY2tldC5vbihtb2RlbE5hbWUgKyAnOnNhdmUnLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIG9sZEl0ZW0gPSBsb2Rhc2hfMS5kZWZhdWx0LmZpbmQoYXJyYXksIHsgX2lkOiBpdGVtLl9pZCB9KTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGFycmF5LmluZGV4T2Yob2xkSXRlbSk7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSAnY3JlYXRlZCc7XG4gICAgICAgICAgICAvLyByZXBsYWNlIG9sZEl0ZW0gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UganVzdCBhZGQgaXRlbSB0byB0aGUgY29sbGVjdGlvblxuICAgICAgICAgICAgaWYgKG9sZEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBhcnJheS5zcGxpY2UoaW5kZXgsIDEsIGl0ZW0pO1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gJ3VwZGF0ZWQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNiKGV2ZW50LCBpdGVtLCBhcnJheSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3luY3MgcmVtb3ZlZCBpdGVtcyBvbiAnbW9kZWw6cmVtb3ZlJ1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zb2NrZXQub24obW9kZWxOYW1lICsgJzpyZW1vdmUnLCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gJ2RlbGV0ZWQnO1xuICAgICAgICAgICAgbG9kYXNoXzEuZGVmYXVsdC5yZW1vdmUoYXJyYXksIHsgX2lkOiBpdGVtLl9pZCB9KTtcbiAgICAgICAgICAgIGNiKGV2ZW50LCBpdGVtLCBhcnJheSk7XG4gICAgICAgIH0pO1xuICAgIH07IC8vRW5kIG9mIHN5bmNVcGRhdGVzXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBsaXN0ZW5lcnMgZm9yIGEgbW9kZWxzIHVwZGF0ZXMgb24gdGhlIHRoaXMuc29ja2V0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gbW9kZWxOYW1lXG4gICAgICovXG4gICAgU29ja2V0U2VydmljZS5wcm90b3R5cGUudW5zeW5jQXJyYXkgPSBmdW5jdGlvbiAobW9kZWxOYW1lKSB7XG4gICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycyhtb2RlbE5hbWUgKyAnOnNhdmUnKTtcbiAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKG1vZGVsTmFtZSArICc6cmVtb3ZlJyk7XG4gICAgfTtcbiAgICBTb2NrZXRTZXJ2aWNlID0gX19kZWNvcmF0ZShbXG4gICAgICAgIGNvcmVfMS5JbmplY3RhYmxlKCksIFxuICAgICAgICBfX21ldGFkYXRhKCdkZXNpZ246cGFyYW10eXBlcycsIFtdKVxuICAgIF0sIFNvY2tldFNlcnZpY2UpO1xuICAgIHJldHVybiBTb2NrZXRTZXJ2aWNlO1xufSgpKTtcbmV4cG9ydHMuU29ja2V0U2VydmljZSA9IFNvY2tldFNlcnZpY2U7XG4iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG4vLyBpbXBvcnQgaW8gZnJvbSAnc29ja2V0LWNsaWVudCc7XG5pbXBvcnQgXyBmcm9tICdsb2Rhc2gnO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTb2NrZXRTZXJ2aWNlIHtcblx0c29ja2V0OiBhbnk7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0Y29uc3QgaW8gPSByZXF1aXJlKCdzb2NrZXQtY2xpZW50Jyk7IC8vaHR0cHM6Ly9naXRodWIuY29tL3NvY2tldGlvL3NvY2tldC5pby1jbGllbnRcblx0XHR0aGlzLnNvY2tldCA9IGlvLmNvbm5lY3QoKTtcblx0fVxuXHQvLyBDdXN0b21pemVkIEV2ZW50cywgYWRkRXZlbnQgT25Jbml0LCByZW1vdmUgT25EZXN0cm95XG5cdGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQ6IHN0cmluZykge1xuXHRcdHRoaXMuc29ja2V0Lm9uKGV2ZW50LCBmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ3RoaW5ncyBmcm9tIHNvY2tldCcsIGRhdGEpO1xuXHRcdH0pO1xuXHR9XG5cblx0cmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudDogc3RyaW5nKSB7XG5cdFx0Ly8gU29ja2V0IGRlZnVhbHQgbWV0aG9kXG5cdFx0dGhpcy5zb2NrZXQucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcblx0fVxuXG5cdC8vIFVwZGF0ZSBkb2N1bWVudCBieSBpZFxuXHRzeW5jQnlJZChtb2RlbE5hbWU6IHN0cmluZywgaWQ6IHN0cmluZywgY2I6IGFueSkge1xuXHRcdHRoaXMuc29ja2V0Lm9uKG1vZGVsTmFtZSArICc6c2F2ZTonICsgaWQsIGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRjYihpdGVtKTtcblx0XHR9KTtcblx0fVxuXG5cdHVuc3luY0J5SWQobW9kZWxOYW1lOiBzdHJpbmcsIGlkOiBzdHJpbmcsIGNiOiBhbnkpIHtcblx0XHR0aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMobW9kZWxOYW1lICsgJzpzYXZlOicgKyBpZCk7XG5cdH1cblxuXHQvLyBTeW5jIGFycmF5XG5cdHN5bmNBcnJheShtb2RlbE5hbWU6IHN0cmluZywgYXJyYXk6IEFycmF5PGFueT4sIGNiOiBhbnkpIHtcblx0XHRjYiA9IGNiIHx8IGZ1bmN0aW9uICgpIHsgfTtcblxuXHRcdC8qKlxuXHRcdCAqIFN5bmNzIGl0ZW0gY3JlYXRpb24vdXBkYXRlcyBvbiAnbW9kZWw6c2F2ZSdcblx0XHQgKi9cblx0XHR0aGlzLnNvY2tldC5vbihtb2RlbE5hbWUgKyAnOnNhdmUnLCBmdW5jdGlvbiAoaXRlbSkge1xuXG5cdFx0XHR2YXIgb2xkSXRlbSA9IF8uZmluZChhcnJheSwgeyBfaWQ6IGl0ZW0uX2lkIH0pO1xuXHRcdFx0dmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZihvbGRJdGVtKTtcblx0XHRcdHZhciBldmVudCA9ICdjcmVhdGVkJztcblxuXHRcdFx0Ly8gcmVwbGFjZSBvbGRJdGVtIGlmIGl0IGV4aXN0c1xuXHRcdFx0Ly8gb3RoZXJ3aXNlIGp1c3QgYWRkIGl0ZW0gdG8gdGhlIGNvbGxlY3Rpb25cblx0XHRcdGlmIChvbGRJdGVtKSB7XG5cdFx0XHRcdGFycmF5LnNwbGljZShpbmRleCwgMSwgaXRlbSk7XG5cdFx0XHRcdGV2ZW50ID0gJ3VwZGF0ZWQnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0YXJyYXkucHVzaChpdGVtKTtcblx0XHRcdH1cblxuXHRcdFx0Y2IoZXZlbnQsIGl0ZW0sIGFycmF5KTtcblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIFN5bmNzIHJlbW92ZWQgaXRlbXMgb24gJ21vZGVsOnJlbW92ZSdcblx0XHQgKi9cblx0XHR0aGlzLnNvY2tldC5vbihtb2RlbE5hbWUgKyAnOnJlbW92ZScsIGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgZXZlbnQgPSAnZGVsZXRlZCc7XG5cdFx0XHRfLnJlbW92ZShhcnJheSwgeyBfaWQ6IGl0ZW0uX2lkIH0pO1xuXHRcdFx0Y2IoZXZlbnQsIGl0ZW0sIGFycmF5KTtcblx0XHR9KTtcblx0fS8vRW5kIG9mIHN5bmNVcGRhdGVzXG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgbGlzdGVuZXJzIGZvciBhIG1vZGVscyB1cGRhdGVzIG9uIHRoZSB0aGlzLnNvY2tldFxuXHQgKlxuXHQgKiBAcGFyYW0gbW9kZWxOYW1lXG5cdCAqL1xuXHR1bnN5bmNBcnJheShtb2RlbE5hbWU6IHN0cmluZykge1xuXHRcdHRoaXMuc29ja2V0LnJlbW92ZUFsbExpc3RlbmVycyhtb2RlbE5hbWUgKyAnOnNhdmUnKTtcblx0XHR0aGlzLnNvY2tldC5yZW1vdmVBbGxMaXN0ZW5lcnMobW9kZWxOYW1lICsgJzpyZW1vdmUnKTtcblx0fVxuXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
